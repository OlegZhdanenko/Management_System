generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model groups {
  id                          String   @id
  name                        String
  createdBy                   String
  created_at                  DateTime @default(now())
  user_groups_createdByTouser user     @relation("groups_createdByTouser", fields: [createdBy], references: [id])
  notes                       notes[]
  user_user_groupIdTogroups   user[]   @relation("user_groupIdTogroups")
}

model notes {
  id         String   @id
  title      String
  content    String
  groupId    String
  createdBy  String
  created_at DateTime @default(now())
  updated_at DateTime
  user       user     @relation(fields: [createdBy], references: [id])
  groups     groups   @relation(fields: [groupId], references: [id])
}

model user {
   id                           String   @id @default(uuid())
  email                         String   @unique
  password                      String
  name                          String
  role                          Role
  groupId                       String?
  token                         String? 
  created_at                    DateTime @default(now())
  updated_at                    DateTime @updatedAt
  groups_groups_createdByTouser groups[] @relation("groups_createdByTouser")
  notes                         notes[]
  groups_user_groupIdTogroups   groups?  @relation("user_groupIdTogroups", fields: [groupId], references: [id])
}

enum Role {
  ROOT_ADMIN
  ADMIN
  USER
}
